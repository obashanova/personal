---
import type { ImageMetadata } from "astro";
import { Image } from "astro:assets";
interface Props {
	title: string;
	src: string;
	body: string;
	href: string;
}
//src/assets/images/lodes.png
const { href, src, title, body } = Astro.props;
const images = import.meta.glob<{ default: ImageMetadata }>(
	"/src/assets/images/*.{jpeg,jpg,png,gif}"
);
console.log(images[src]);
if (!images[src])
	throw new Error(
		`"${src}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`
	);
---

<li class="link-card">
	<a href={href} target="_blank" rel="noopener noreferrer">
		<figure>
			<Image src={images[src]()} alt={title} class="card-image" />
			<figcaption>
				<h2>
					{title}
				</h2>
				<p>{body}</p>
			</figcaption>
		</figure>
	</a>
</li>

<style>
	.link-card {
		list-style: none;
		display: flex;
		width: calc(50% - 5px);
		height: fit-content;
		border-radius: 8px;
		background-color: #eeedeb;
		transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1);
		@media screen and (max-width: 1024px) {
			width: 100%;
			margin: 5px 0;
		}
	}
	.link-card > a {
		width: 100%;
		margin: 10px;
		text-decoration: none;
		line-height: 1.3;
	}

	figure {
		margin: 0;
		display: flex;
		align-items: flex-start;
		justify-content: space-between;
	}
	.card-image {
		width: calc(50% - 5px);
		height: auto;
		border-radius: 8px;
	}

	figcaption {
		width: calc(50% - 5px);
		p {
			margin: 5px 0;
		}
	}
	h2 {
		font-size: medium;
		transition: color 0.6s cubic-bezier(0.22, 1, 0.36, 1);
		margin: 0;
	}

	.link-card:is(:hover, :focus-within) {
		background-color: #d9d9d9;
	}
	/* .link-card:is(:hover, :focus-within) a {
		transform: scale(1.01);
	} */
</style>
